(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{328:function(t,s){t.exports="data:image/png;base64,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"},329:function(t,s){t.exports="data:image/png;base64,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"},351:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("div",{staticClass:"custom-block tip"},[n("p",[t._v("如何自己构建实现一个简单功能的脚手架")])]),t._v(" "),n("p",[n("strong",[t._v("Version：2019.10.21.v1.6")])]),t._v(" "),n("h2",{attrs:{id:"开篇"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#开篇"}},[t._v("#")]),t._v(" 开篇")]),t._v(" "),n("p",[t._v("大家好，我是王小胖，一个集可爱与智慧于一身的胖子。")]),t._v(" "),n("p",[t._v("首先很抱歉这篇拖了一个多月才出来，因为不仅因为这期间经历了两个假期的原因，还有这篇文章因为不算“扯淡”文，纯技术点相关的分享， 所以一直想尽量广而全，完美一点，至少得胖子自己满意，后来发现太难了。。。做到易读和有货确实太难了，现在很佩服写原创技术书籍的大神啊 ；）")]),t._v(" "),n("p",[t._v("今天，我们看看如何自己构建实现一个简单功能的脚手架：\n"),n("strong",[t._v("1.初始构建功能")]),t._v("\n通过这个基本功能实现，可以了解脚手架中关于命令行解析，简单文件操作。")]),t._v(" "),n("p",[n("strong",[t._v("2.本地live reload开发")]),t._v("\n对浏览器端和node端live reload开发环境的实现，给一个简单介绍，做一个简单的实现。")]),t._v(" "),n("h2",{attrs:{id:"介绍"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#介绍"}},[t._v("#")]),t._v(" 介绍")]),t._v(" "),n("p",[n("strong",[t._v("首先简单介绍下我们这篇文章关于脚手架构建要介绍的一些技术实现：")])]),t._v(" "),n("ol",[n("li",[t._v("命令行解析相关")]),t._v(" "),n("li",[t._v("git download")]),t._v(" "),n("li",[t._v("文件操作")]),t._v(" "),n("li",[t._v("浏览器端Live Reload/Watch 本地开发")]),t._v(" "),n("li",[t._v("Node端Live Reload/Watch 本地开发")])]),t._v(" "),n("p",[n("strong",[t._v("将会使用的库/Lib")])]),t._v(" "),n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dependencies"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"@angular/cli"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^8.3.5"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chalk"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.4.2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"chokidar"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.2.2"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"commander"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^3.0.1"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"download-git-repo"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^2.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"inquirer"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^7.0.0"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token property"}},[t._v('"ora"')]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v('"^4.0.0"')]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"构建"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#构建"}},[t._v("#")]),t._v(" 构建")]),t._v(" "),n("h3",{attrs:{id:"_0-项目结构和依赖"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_0-项目结构和依赖"}},[t._v("#")]),t._v(" 0.项目结构和依赖")]),t._v(" "),n("p",[t._v("首先我们初始化我们的工程，npm init和npm install就不多说了，当然也可以自己全手工创建。\n”bin“目录里存放的是脚手架的入口文件\n”commands“目录存放的是每个命令的处理文件")]),t._v(" "),n("p",[t._v("看看我们的项目的文件结构")]),t._v(" "),n("p",[n("img",{attrs:{src:a(328),alt:"p1.png"}})]),t._v(" "),n("h3",{attrs:{id:"_1-创建入口文件"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_1-创建入口文件"}},[t._v("#")]),t._v(" 1.创建入口文件")]),t._v(" "),n("p",[t._v("在bin目录下创建一个tim（胖子英文小名）并没有后缀的文件，作为执行文件的入口，并在package.json中配置执行命令。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(329),alt:"p2.png"}})]),t._v(" "),n("p",[t._v('再来看看bin/tim文件，这个文件就是利用commander来实现一些命令入口。\n"#!/usr/bin/env node"就是为了让系统可以动态的去查找node来执行脚本文件。')]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("#"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("usr"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("bin"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("env node\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" program "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'commander'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nprogram"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("version")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../package'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("version"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("usage")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'<command> [options]'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Welcome to Tim Scaffold demo project...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("    \n\nprogram"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'init'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alias")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'i'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-o, --options'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'init option...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Generate a new project'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../commands/init'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nprogram"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alias")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'s'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Start dev server...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../commands/server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nprogram"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("command")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'deploy'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("alias")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'d'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("option")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("description")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'testing...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("action")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'../commands/server'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nprogram"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("argv"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//show help tips.")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("program"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("args"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("length"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    program"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("help")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"_2-创建初始化命令"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_2-创建初始化命令"}},[t._v("#")]),t._v(" 2.创建初始化命令")]),t._v(" "),n("p",[t._v("使用inquirer实现命令行的问答交互模式。实现用户配置项目名，选择想使用的项目模板，是AngularJS还是VueJS。胖子这里会选用两种不同的模板生成方式供大家参考。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" program "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'commander'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" prompt "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inquirer'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" spawnSync "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'child_process'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("spawnSync"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" gitDownload "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'download-git-repo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fs "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'fs'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" templateList "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VueJS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'AngularJS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" questions "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'input'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Project Name'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'scaffold_demo_project'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("        filter")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("        validate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Add your validation logic")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("        transformer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        type"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'list'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        name"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'template'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        message"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Project template'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        choices"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" templateList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" templateList"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("        validate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//Add your validation logic")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("        transformer")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("val")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" val"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("genAngularProject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("projectName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("genVueProject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("projectName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updatePackageInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("projectName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nmodule"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'init...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" projectName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'tim-scaffold-demo'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" templateName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("    prompt")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("questions"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("data")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        projectName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        templateName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" data"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("template"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("templateName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'VueJS'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("            genVueProject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("            genAngularProject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("通过angular CLI来生成项目模板。这里使用spawnSync来执行内部的npm和ng的命令操作。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("genAngularProject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("projectName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Start genarate Angular Project...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cmdSuffix"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" process"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("platform "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'win32'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("?")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.cmd'")]),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" npminstallResult "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawnSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'npm'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cmdSuffix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'install'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@angular/cli'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'-g'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        stdio"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inherit'")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//import setting...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("npminstallResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("npminstallResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Install @angular/cli successfully...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Install @angular/cli failed...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("npminstallResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Start generate new Angular project...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" ngNewResult "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("spawnSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ng'")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" cmdSuffix"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'new'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" projectName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        stdio"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'inherit'")]),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//import setting...")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("debug")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ngNewResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("ngNewResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("status "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("        updatePackageInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Generate new Angular success...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("else")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Generate new Angular failed...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("ngNewResult"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("error"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("通过gitDownload实现git下载，来生成VueJS模板。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("genVueProject")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("projectName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Start download VueJS template project...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("    gitDownload")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'direct:https://github.com/MillerRen/vue-boilerplate.git'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("./")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("projectName"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" clone"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("err"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Generate new VueJS failed...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("        updatePackageInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("projectName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Generate new VueJS success...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("p",[t._v("基本的模板生成后，通过更新模板里的package.json文件配置信息实现自己项目的定制化，胖子这里就简单实现项目名的修改。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("updatePackageInfo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("projectName")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" fileName "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token template-string"}},[n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("./")]),n("span",{pre:!0,attrs:{class:"token interpolation"}},[n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("projectName"),n("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("/package.json")]),n("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" jsonString "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("readFileSync")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" jsonFile "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("parse")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jsonString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    jsonFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" projectName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    fs"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("writeFile")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("fileName"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("stringify")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("jsonFile"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("err")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n            console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("error")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Update package info error...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n            "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n        "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n        console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("info")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Update package info success...'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h2",{attrs:{id:"_3-live-reload-hrm"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#_3-live-reload-hrm"}},[t._v("#")]),t._v(" 3.live reload/HRM")]),t._v(" "),n("p",[t._v("提到live reload/HRM，大家可能觉得这东西对我们实用性不大，为啥还要讲呢？胖子这里想说，因为目前基本所有的脚手架项目都会具备这个功能，大家应该都或多或少了解或使用过，只是因为它太不起眼，被大家忽视了，不过胖子觉得我们应该做到“知其言并知其所以言”，了解它的实现原理。这样大家就可以在需要的时候，实现自己定制化的功能了。有人可能会说，其实也没节省多少时间啊，就几秒而已啊，有需要，自己刷新页面或重启一下服务不就好了，何必费劲用live reload/HRM？但是如果要是大家接触的是大型且复杂的前端项目，更新和编译有可能花费更长的时间，并不是一个好的开发体验，另外对于一个团队来说，更快速和更好的开发体验是十分重要的（如果做开发平台的，肯定深有感触）。")]),t._v(" "),n("p",[t._v("首先咱们先了解一下市面上已有的一些live reload实现。其实live reload在前端好久之前就已经有项目开始采用了，胖子接触的像Gulp-livereload，Browsersync，webpack livereload，另外还有一些Chrome和Firefix live reload 插件。对于这些今天就不一一介绍了，胖子这回就针对自己接触和了解的前端浏览器端和nodeJS端的live reload实现做一些简单介绍。")]),t._v(" "),n("p",[t._v("其实live reload，简单了说，就是监控文件改动，识别改动，实现重新加载。")]),t._v(" "),n("h3",{attrs:{id:"浏览器端开发live-reload："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#浏览器端开发live-reload："}},[t._v("#")]),t._v(" 浏览器端开发live reload：")]),t._v(" "),n("p",[t._v("我们这里主要说说webpack相关的live reload，其实跟webpack相关的，前后胖子也简单接触到一些，像web-dev-server，webpack-hot-middleware，web-serve等等。下面简单介绍一下，大家如果想深入研究，大家可以自行在网上搜索相关的说明文档")]),t._v(" "),n("h4",{attrs:{id:"webpack-dev-server"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-dev-server"}},[t._v("#")]),t._v(" webpack-dev-server")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/webpack/webpack-dev-server",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/webpack/webpack-dev-server"),n("OutboundLink")],1),t._v("\nwebpack-dev-server是一个独立的nodejs静态服务器，node端利用中间件实现与webpack的结合，实现构建打包输出，自动刷新，热更新（HRM）等功能。")]),t._v(" "),n("h4",{attrs:{id:"webpack-hot-middleware"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-hot-middleware"}},[t._v("#")]),t._v(" webpack-hot-middleware")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/webpack-contrib/webpack-hot-middleware",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/webpack-contrib/webpack-hot-middleware"),n("OutboundLink")],1),t._v("\nwebpack-hot-middleware是一个在webpack-dev-middleware基础上搭建的实现热更新的中间件。")]),t._v(" "),n("h4",{attrs:{id:"webpack-serve"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#webpack-serve"}},[t._v("#")]),t._v(" webpack-serve")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/webpack-contrib/webpack-serve",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/webpack-contrib/webpack-serve"),n("OutboundLink")],1),t._v("\n项目已经是Deprecated淘汰状态，所以大家有兴趣和时间再简单了解")]),t._v(" "),n("p",[t._v("这里如果大家只是开发纯前端的静态文件，且没有已有的static server，可以直接使用webpack-dev-server；如果大家之前已经把静态文件部署到node server上，想增加live reload或HRM的支持，可以使用上面提到的middleware，虽然目前看这些都是基于Express开发的中间件，但是如果您使用了其他的node web server的相关库，可以在github上寻找是否有人做出了对应的webpack node中间件，向之前胖子就查找过Koa相关的webpack中间件，确实有，而且质量还不错的。")]),t._v(" "),n("h3",{attrs:{id:"nodejs端开发live-reload："}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nodejs端开发live-reload："}},[t._v("#")]),t._v(" Nodejs端开发live reload：")]),t._v(" "),n("p",[t._v("NodeJs端的live reload，其实原理和前面的浏览器端的原理一样，也是监听文件改动，识别改动，实现重启加载。这里胖子简单介绍一下简单易用的工具供大家参考。")]),t._v(" "),n("h4",{attrs:{id:"nodemon"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#nodemon"}},[t._v("#")]),t._v(" nodemon")]),t._v(" "),n("p",[n("a",{attrs:{href:"https://github.com/remy/nodemon",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/remy/nodemon"),n("OutboundLink")],1),t._v("\nnodemon的作用可以在不修改任何代码的情况下，监测node文件的改动，自动重启服务，简单易用。")]),t._v(" "),n("h4",{attrs:{id:"pm2"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#pm2"}},[t._v("#")]),t._v(" pm2")]),t._v(" "),n("p",[n("a",{attrs:{href:"http://pm2.keymetrics.io/",target:"_blank",rel:"noopener noreferrer"}},[t._v("http://pm2.keymetrics.io/"),n("OutboundLink")],1),t._v("\npm2是nodejs进程的管理工具，本身不光只有live reload，它也包含性能监控，负载均衡等等。对于live reload，大家只需使用pm2启动node服务时候增加“-watch”参数即可。")]),t._v(" "),n("p",[t._v("对于现在正火的typescript，nodemon结合ts-node，就可以对typescript编写的node代码实现同样的live reload功能了。")]),t._v(" "),n("p",[t._v("另外大家可以使用node-dev或者ts-node-dev。相关github地址如下：\n"),n("a",{attrs:{href:"https://github.com/TypeStrong/ts-node",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/TypeStrong/ts-node"),n("OutboundLink")],1),t._v(" "),n("a",{attrs:{href:"https://github.com/whitecolor/ts-node-dev",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/whitecolor/ts-node-dev"),n("OutboundLink")],1)]),t._v(" "),n("p",[t._v("掌握了这些，我们发现live reload毕竟还需要重新启动node服务，有没有啥方式能像webpack的HRM一样，实现热更新呢，我们来试一试。")]),t._v(" "),n("p",[t._v("实现的思路和前面提到浏览器端的实现思路大体是一样的--监控文件改动，文件改动后用新的文件模块覆盖旧的。我们只需要将这段实现代码加到我们自己脚手架node实现的web server工程目录下就可以了。")]),t._v(" "),n("p",[t._v("文件监控，我们使用的是chokidar。\n更新nodejs文件模块，关键字“require.cache”,大家可以自行搜索了解一下。")]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" chokidar "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'chokidar'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("；\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" watcher "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" chokidar"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'./app'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("；\nwatcher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ready'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  watcher"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("on")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'all'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("keys")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("id")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/[\\/\\\\]app[\\/\\\\]/")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("test")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("delete")]),t._v(" require"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cache"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("id"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("；\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),n("p",[t._v("上面的代码只是“最最”简单的实现，其实还有很多的方面可以做来完善这个功能，比如文件监测的防抖动处理，文件目录的自动查找，文件模块的高效匹配。另外因为对软件产品的可靠性高要求，NodeJS端热更新和热部署，目前看只适用于开发阶段或测试阶段。")]),t._v(" "),n("h2",{attrs:{id:"结语"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#结语"}},[t._v("#")]),t._v(" 结语")]),t._v(" "),n("p",[t._v("胖子希望这三篇关于前端“脚手架”的文章，对大家能有些许的帮助。这篇文章完成之后，胖子也对这个公众号的维护有了一些总结和想法，之后会以新的形式来为大家服务。")]),t._v(" "),n("p",[n("strong",[t._v("如果您有什么问题和建议，欢迎留言。\n转载请注明 码农王小胖")])])])}),[],!1,null,null,null);s.default=e.exports}}]);